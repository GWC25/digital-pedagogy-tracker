<div x-show="view === 'gantt'" class="max-w-full mx-auto">
                <div class="bg-white p-6 rounded shadow mb-6">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                        <div class="flex items-center gap-4">
                            <h2 class="font-bold text-lg">Timeline</h2>
                            <div class="flex bg-slate-100 rounded p-1">
                                <button @click="timelineMode = 'year'" :class="timelineMode==='year' ? 'bg-white shadow text-blue-600' : 'text-slate-500'" class="px-3 py-1 rounded text-xs font-bold transition">12 M</button>
                                <button @click="timelineMode = '6m'" :class="timelineMode==='6m' ? 'bg-white shadow text-blue-600' : 'text-slate-500'" class="px-3 py-1 rounded text-xs font-bold transition">6 M</button>
                                <button @click="timelineMode = '3m'" :class="timelineMode==='3m' ? 'bg-white shadow text-blue-600' : 'text-slate-500'" class="px-3 py-1 rounded text-xs font-bold transition">3 M (Weekly)</button>
                                <button @click="timelineMode = '1m'" :class="timelineMode==='1m' ? 'bg-white shadow text-blue-600' : 'text-slate-500'" class="px-3 py-1 rounded text-xs font-bold transition">1 M (Daily)</button>
                            </div>
                        </div>
                        <button @click="exportToExcel()" class="bg-green-600 text-white px-3 py-1 rounded text-xs"><i class="fas fa-file-excel mr-1"></i> Export Data</button>
                    </div>

                    <div class="gantt-container">
                        <div class="gantt-grid text-sm" :style="getTimelineGridStyle()">
                            
                            <div class="gantt-row font-bold text-slate-700 bg-slate-50 border-b border-slate-300 sticky top-0 z-20">
                                <div class="p-3 sticky left-0 bg-slate-50 z-30 border-r border-slate-200 shadow-sm">Project / Action</div>
                                <template x-for="(col, idx) in timelineColumns" :key="idx">
                                    <div class="gantt-header">
                                        <div x-text="col.label"></div>
                                        <div x-show="col.sub" class="text-[9px] text-slate-400 font-normal" x-text="col.sub"></div>
                                    </div>
                                </template>
                            </div>

                            <template x-for="(p, idx) in filteredProjects" :key="p.id">
                                <div class="gantt-row hover:bg-slate-50 transition group border-b border-slate-100">
                                    
                                    <div class="p-2 text-xs font-bold truncate pr-4 cursor-pointer hover:text-blue-600 sticky left-0 bg-white group-hover:bg-slate-50 z-10 border-r border-slate-100 flex items-center h-10" @click="editProject(p)">
                                        <span x-text="p.title" :title="p.title" class="truncate"></span>
                                    </div>

                                    <template x-for="c in timelineColumns"><div class="gantt-cell"></div></template>

                                    <div x-show="hasDates(p) && isProjectVisibleInTimeline(p)" 
                                         class="rounded text-[9px] text-white flex items-center px-2 shadow-sm cursor-pointer hover:opacity-90 overflow-hidden z-10 h-6" 
                                         :class="getPriorityColor(p.priorityId)" 
                                         :style="getDynamicGanttBarStyle(p, idx)" 
                                         @click="editProject(p)">
                                        <span class="truncate" x-text="formatDateShort(p.startDate) + ' - ' + formatDateShort(p.endDate)"></span>
                                    </div>
                                </div>
                            </template>

                        </div>
                    </div>
                </div>
            </div>
